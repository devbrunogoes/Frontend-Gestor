import{j as y,r as l,a as c,b as m,f as t,k as _,w,e as S,m as d,v,p as V,t as p,q as k,i as q}from"./index-IzLOKglm.js";const x={class:"auth-page"},B={class:"auth-card"},E={class:"form-group form-group-large"},M={class:"form-group form-group-large"},N={class:"auth-actions"},U={class:"switch",style:{margin:"0"}},A=["disabled"],C={key:0,class:"auth-error"},L={__name:"LoginView",setup(D){const f=k(),g=q(),{login:h}=y(),s=l(""),u=l(""),n=l(!0),r=l(!1),i=l("");async function b(){i.value="",r.value=!0;try{if(await h(s.value,u.value),n.value)try{localStorage.setItem("last_email",s.value)}catch{}const a=f.query.redirect||"/";g.replace(String(a))}catch(a){i.value=(a==null?void 0:a.message)||"Falha ao entrar. Verifique as credenciais."}finally{r.value=!1}}try{const a=localStorage.getItem("last_email");a&&(s.value=a)}catch{}return(a,e)=>(m(),c("section",x,[t("div",B,[e[6]||(e[6]=_('<div class="auth-header"><div class="auth-icon"><i class="fa-solid fa-right-to-bracket"></i></div><div><h2 class="auth-title">Bem-vindo</h2><p class="auth-subtitle">Acesse sua conta para continuar</p></div></div>',1)),t("form",{onSubmit:w(b,["prevent"]),class:"auth-form"},[t("div",E,[e[3]||(e[3]=t("label",{for:"email"},"E-mail",-1)),d(t("input",{id:"email",type:"email",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=o=>s.value=o),required:"",autocomplete:"username"},null,512),[[v,s.value,void 0,{trim:!0}]])]),t("div",M,[e[4]||(e[4]=t("label",{for:"password"},"Senha",-1)),d(t("input",{id:"password",type:"password",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=o=>u.value=o),required:"",autocomplete:"current-password"},null,512),[[v,u.value]])]),t("div",N,[t("label",U,[d(t("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=o=>n.value=o)},null,512),[[V,n.value]]),e[5]||(e[5]=t("span",null,"Lembrar",-1))]),t("button",{type:"submit",class:"btn btn-success",disabled:r.value},p(r.value?"Entrandoâ€¦":"Entrar"),9,A)]),i.value?(m(),c("div",C,p(i.value),1)):S("",!0)],32)])]))}};export{L as default};
